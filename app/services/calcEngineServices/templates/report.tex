% headsectionstart
% update mixedReport hedsection if any changes done in this headsection
\documentclass{article}
\usepackage[a4paper, margin={40pt, 40pt}]{geometry}
\usepackage{tikz}
\usepackage{pgfplots}
\usepackage{pgf-pie}
\usepackage{adjustbox}
\usepackage[T1]{fontenc}
\usepackage{minted}
\usepackage[colorlinks = true,
linkcolor = blue,
urlcolor  = blue,
citecolor = blue,
anchorcolor = blue]{hyperref}

\usetikzlibrary{fit,backgrounds,positioning,decorations.markings,shapes,arrows,shadows}
\definecolor{primary}{RGB}{115,54,163}
\definecolor{theftBgColor1}{RGB}{235,215,249}
\definecolor{theftBgColor2}{RGB}{238,229,197}
\definecolor{theftValueType1Color}{RGB}{0,0,0}
\definecolor{theftValueType2Color}{RGB}{115,54,163}
\definecolor{theftValueType3Color}{RGB}{125,110,142}
\definecolor{yesVoteColor}{RGB}{115,54,163}
\definecolor{noVoteColor}{RGB}{61,38,80}

\tikzset{
	headerText/.style={text=white},
	fullWidth/.style={text width=480pt},
	leftHeaderText/.style={headerText, align=left,text width=280pt},
	rightHeaderText/.style={headerText, align=right,text width=180pt},
	theftBlock/.style={rounded corners=5pt, inner sep=10pt},
	theftBlockContent/.style={text=black, text width=100pt},
}

\begin{document}
\sffamily
% headsectionend

\hypertarget{--pageID--}{}
% header
\trimbox{0 -15pt 0 0}{ 
  \begin{tikzpicture}
      \node[leftHeaderText] (subtitle) {ZeroTheft Movement: --subtitle--};
      \node[leftHeaderText, below=of subtitle, below=5pt] (title) {\huge \textbf{--title--}};
      \node[leftHeaderText, below=of title, below=-5pt] (belowtitle) {voted theft Ethically, not legally};

      \node[rightHeaderText, right=10pt of subtitle] (year) {--year--};
      \node[rightHeaderText, below=of year, below=5pt] (country) {for --country--};
      \node[rightHeaderText, below=of country, below=5pt] (holon) {\href{--holonUrl--}{\color{white}--holonUrl--}};
    
      \begin{scope}[on background layer]
      \node[fill=primary, fit=(subtitle)(title)(belowtitle)(year)(country)(holon)] (header) {};
      \end{scope}
  \end{tikzpicture}
}

\trimbox{-120pt -15pt 0 0}{ 
  \begin{tikzpicture}
      \node[theftBlockContent] (amount1) {\huge \textbf{\$--theft--}};
      \node[theftBlockContent, below=0ptof amount1] (year1) {Stolen in --year--\newline};
      
      \begin{scope}[on background layer]
      \node[theftBlock, fill=theftBgColor1, fit=(amount1)(year1)] (block1) {};
      \end{scope}

      \node[theftBlockContent, right=30ptof amount1] (amount2) {\huge \textbf{\$--manyYearsTheft--}};
      \node[theftBlockContent, below=0ptof amount2] (year2) {Stolen in --xYrs-- years\\from --minYear-- to --maxYear--};
      
      \begin{scope}[on background layer]
      \node[theftBlock, fill=theftBgColor2, fit=(amount2)(year2)] (block2) {};
      \end{scope}
  \end{tikzpicture}
}

\trimbox{0 -40pt 0 0}{
  \begin{tikzpicture}
    \begin{axis}[
      title style={at={(0.5,1)},anchor=south,text=primary},
      title = \large \textbf{Theft from --minYear-- to --maxYear--},
      % xlabel={x label},
      % ylabel={y label},
      % xmin = 0, xmax = 10,
      % ymin = 0, ymax = 1,
      grid = both,
      % xtick distance = 1,
      x tick label style={/pgf/number format/.cd,%
        scaled y ticks = true,
        set thousands separator={},
        fixed},
      width = \textwidth,
      height = 0.4\textwidth,
      legend cell align = {left},
      % legend pos = north west,
      legend style={at={(0.5,-25pt)},anchor=north},
      scatter/classes={
      voting={theftValueType1Color, /tikz/mark size=3pt},%
      incompletevoting={theftValueType2Color, /tikz/mark size=3pt},%
      estimation={theftValueType3Color, /tikz/mark size=3pt}}
    ]
    
    \addplot[
      scatter,mark=*,primary,
      text=primary,
      scatter src=explicit symbolic,
      nodes near coords*=\scriptsize \textbf{\Theft},
      every node near coord/.append style={below right, rotate=90, shift={(0, 6pt)}},
      visualization depends on={value \thisrow{Theft} \as \Theft},
    ] 
    table [meta=DeterminedBy] {
      --theftValueChartData--
      % Year theft DeterminedBy Theft
      % 1    0.3  voting       0.25T   
      % 2    0.1  estimation       1.5    
      % 3    0.6  voting      0.70   
      % 4   0.4  incompletevoting      0.125  
      % 8   0.1  estimation       2      
    };
    
    \legend{
      % voting
      Voted Theft, 
      % incompletevoting
      Interim Theft (needs more vote),
      % estimation
      Estimated Theft
    }
    
    \end{axis}
  \end{tikzpicture}
}

\trimbox{0 -40pt 0 0}{
  \begin{tikzpicture}[every label/.style={black}, nodes={white}]
    \pie[
      sum=auto,
      text=legend,
      style=drop shadow,
      color={noVoteColor,yesVoteColor},
      radius=3,
    ]
    {
      % this always need to have data to get the pie chart working
      --yesNoPieData--
      % 50/No,30/Yes
    }
  \end{tikzpicture}
}
\trimbox{-30pt -40pt 0 0}{
  \begin{tikzpicture}
    \begin{axis}[
      ybar interval,
      title style={at={(0.5,1)},anchor=south,text=primary},
      title = \large \textbf{Votes For Theft Amount},
      ymajorgrids = true,
      xmajorgrids = false,
      width = 0.5\textwidth,
      height = 0.4\textwidth,
      xtick = {}
    ]
      \addplot[draw=none,fill=primary] table
        {
          --votesForTheftAmountData--
          % Theft Votes
          % 1000    10
          % 1200    20
          % 1300    5
          % 1500   15
          % 2000   20
          % 2100   30
        };
    \end{axis}
    \end{tikzpicture}
}

\newpage 
\trimbox{0 -15pt 0 0}{ 
  \begin{tikzpicture}
    \node[fullWidth, text=primary] (leadingProposal) {\huge \textbf{Leading Proposals}};
    \node[fullWidth, below =0ptof leadingProposal] (viewProposalTextLink) {\href{--holonUrl--/path/--pathSlug--/issue/--leafSlug--}{\color{blue}View Full Proposal Text}};
    \node[fullWidth, below =0ptof viewProposalTextLink] (leadingProposalTitle) {\large \textbf{Proposal ID --leadingProposalID-- by --leadingProposalAuthor-- on --leadingProposalDate--}};
  \end{tikzpicture}
}

\noindent
  \begin{minted}[%
    breaklines,
    mathescape,
    numbersep=5pt,
    numbersep=5pt,
    xleftmargin=0pt,
    xrightmargin=0pt,
    breaksymbolleft=,
  gobble=0,
  linenos
  ]{yaml}
--leadingProposalDetail--
  \end{minted}
\end{document}
